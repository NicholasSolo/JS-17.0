(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function t(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==o.return||o.return()}finally{if(l)throw c}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var o,r,a,c,i,l,u,s,d,f,m,v,y,p,h,g,b,E;p=document.getElementById("timer-hours"),h=document.getElementById("timer-minutes"),g=document.getElementById("timer-seconds"),b=function(e){return e<10?e="0"+e:e},E=setInterval((function(){var e,t,n,o=(e=(new Date("27 march 2021").getTime()-(new Date).getTime())/1e3,t=Math.floor(e%60),n=Math.floor(e/60%60),{timeRemaining:e,hours:Math.floor(e/60/60)%24,minutes:n,seconds:t});o.timeRemaining>0?(p.textContent=b(o.hours),h.textContent=b(o.minutes),g.textContent=b(o.seconds)):o.timeRemaining<0?(p.textContent="00",h.textContent="00",g.textContent="00"):clearInterval(E)}),1e3),y=document.querySelector("menu"),document.addEventListener("click",(function(e){var t=e.target,n=t==y||y.contains(t),o=t==document.querySelector(".close-btn"),r=y.classList.contains("active-menu");(t.classList.contains("close-btn")||t.closest(".menu")||t.matches("menu>ul>li>a")||!n&&!o&&r)&&y.classList.toggle("active-menu")})),v=document.querySelector(".popup"),document.querySelector(".service").addEventListener("click",(function(e){if(e.target.classList.contains("popup-btn"))if(document.documentElement.clientWidth>768){v.style.display="block",v.style.opacity="0%";var t=0,n=setInterval((function(){t<100?(++t,v.style.opacity=t+"%"):clearInterval(n)}),7)}else v.style.display="block"})),v.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?v.style.display="none":(t=t.closest(".popup-content"))||(v.style.display="none")})),function(){var t,n=function(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var e=o.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==o.return||o.return()}finally{if(l)throw c}}}}(document.querySelectorAll('menu a[href*="#"], a[href="#service-block"]'));try{var o=function(){var e=t.value;e.classList.contains("close-btn")||e.addEventListener("click",(function(t){t.preventDefault();var n=e.getAttribute("href");document.querySelector(n).scrollIntoView({behavior:"smooth",block:"start"})}))};for(n.s();!(t=n.n()).done;)o()}catch(e){n.e(e)}finally{n.f()}}(),d=document.querySelector(".service-header"),f=d.querySelectorAll(".service-header-tab"),m=document.querySelectorAll(".service-tab"),d.addEventListener("click",(function(e){var t=e.target.closest(".service-header-tab");t.classList.contains("service-header-tab")&&f.forEach((function(e,n){e===t&&function(e){for(var t=0;t<m.length;t++)e===t?(f[t].classList.add("active"),m[t].classList.remove("d-none")):(f[t].classList.remove("active"),m[t].classList.add("d-none"))}(n)}))})),function(){var e,t=document.querySelector(".portfolio-content"),n=document.querySelectorAll(".portfolio-item"),o=[],r=0;!function(){for(var e=document.querySelector(".portfolio-dots"),t=0;t<n.length;t++){var r=document.createElement("li");r.classList.add("dot"),0===t&&r.classList.add("dot-active"),o.push(r),e.appendChild(r)}}();var a=function(e,t,n){e[t].classList.remove(n)},c=function(e,t,n){e[t].classList.add(n)},i=function(){a(n,r,"portfolio-item-active"),a(o,r,"dot-active"),++r>=n.length&&(r=0),c(n,r,"portfolio-item-active"),c(o,r,"dot-active")},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;e=setInterval(i,t)};t.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".portfolio-btn, .dot")&&(a(n,r,"portfolio-item-active"),a(o,r,"dot-active"),t.matches("#arrow-right")?r++:t.matches("#arrow-left")?r--:t.matches(".dot")&&o.forEach((function(e,n){e===t&&(r=n)})),r>=n.length&&(r=0),r<0&&(r=n.length-1),c(n,r,"portfolio-item-active"),c(o,r,"dot-active"))})),t.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),t.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&l(5e3)})),l(5e3)}(),l=document.querySelector(".command"),u="",s="",l.addEventListener("mouseover",(function(e){e.target.matches(".command__photo")&&(u=e.target.src,s=e.target.dataset.img,e.target.src=e.target.dataset.img)})),l.addEventListener("mouseout",(function(e){e.target.matches(".command__photo")&&(e.target.src=u,e.target.dataset.img=s)})),o=document.querySelectorAll(".calc-item"),r=document.querySelectorAll(".form-phone"),a=document.querySelectorAll(".form-email"),c=document.querySelectorAll("input[name='user_name']"),i=document.querySelector(".mess"),o.forEach((function(e,t){e.addEventListener("input",(function(){0!==t&&(e.value=e.value.replace(/[^\d]/g,""))}))})),r.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^+\d-()]/g,"").replace(/-+/g,"-").replace(/^-|-$/g,""),e.value.length>16&&(e.value=e.value.slice(0,15))}))})),a.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^a-z@\-_.!~*']/gi,"").replace(/-+/g,"-").replace(/^-|-$/g,"")}))})),i.addEventListener("input",(function(){i.value=i.value.replace(/[^-а-я\s0-9.,?!]/gi,"").replace(/-+/g,"-")})),c.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^а-я\s]/gi,"").replace(/\s+/g," ")}))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.getElementById("total"),o=document.querySelector(".calc-type"),r=document.querySelector(".calc-day"),a=document.querySelector(".calc-count"),c=document.querySelector(".calc-square"),i=function(e){var t=.1*e,o=0,r=Math.round(500/(e/t));if(0!==e)var a=setInterval((function(){(o+=t)===e&&clearInterval(a),n.textContent=o}),r)},l=function(t){var n=0,i=1,l=1,u=o.value,s=+c.value;a.value>1&&(i+=(a.value-1)/10),r.value&&r.value<5?l*=2:r.value&&r.value<10&&(l*=1.5),u&&0!==s&&(n=Math.round(e*u*s*i*l)),t(n)};t.addEventListener("change",(function(e){var t=e.target;t!==o&&t!==r&&t!==a&&t!==c||l(i)}))}(100),function(){var e="Что-то пошло не так...",n="Спасибо! Мы скоро с Вами свяжемся.",o=document.querySelector(".preloader"),r=document.getElementById("form1"),a=document.getElementById("form3"),c=document.getElementById("form2"),i=document.createElement("div");i.style.cssText="font-size: 2rem";var l=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};r.addEventListener("submit",(function(a){a.preventDefault(),r.append(i),i.append(o),o.style.display="block";var c,u={},s=t(new FormData(r).entries());try{for(s.s();!(c=s.n()).done;){var d=c.value;u[d[0]]=d[1]}}catch(e){s.e(e)}finally{s.f()}l(u).then((function(e){if(200!==e.status)throw new Error("network failed");i.textContent=n,setTimeout((function(){i.textContent=""}),5e3)})).catch((function(t){i.textContent=e,console.log(t),setTimeout((function(){i.textContent=""}),5e3)})),r.querySelectorAll("input").forEach((function(e){e.value=""}))})),a.addEventListener("submit",(function(r){r.preventDefault(),a.append(i),o.style.display="block",i.append(o);var c,u={},s=t(new FormData(a).entries());try{for(s.s();!(c=s.n()).done;){var d=c.value;u[d[0]]=d[1]}}catch(e){s.e(e)}finally{s.f()}l(u).then((function(e){if(200!==e.status)throw new Error("network failed");i.style.color="white",i.textContent=n,setTimeout((function(){i.textContent=""}),5e3)})).catch((function(t){console.log(t),i.textContent=e,setTimeout((function(){i.textContent=""}),5e3)})),a.querySelectorAll("input").forEach((function(e){e.value=""}))})),c.addEventListener("submit",(function(r){r.preventDefault(),c.append(i),o.style.display="block",i.append(o);var a,u={},s=t(new FormData(c).entries());try{for(s.s();!(a=s.n()).done;){var d=a.value;u[d[0]]=d[1]}}catch(e){s.e(e)}finally{s.f()}l(u).then((function(e){if(200!==e.status)throw new Error("network failed");i.textContent=n,setTimeout((function(){i.textContent=""}),5e3)})).catch((function(t){console.log(t),i.textContent=e,setTimeout((function(){i.textContent=""}),5e3)})),c.querySelectorAll("input").forEach((function(e){e.value=""}))}))}()})();