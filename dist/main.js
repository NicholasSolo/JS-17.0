(()=>{"use strict";const e=new class{constructor({main:e,wrapper:t,next:s,prev:o,infiniteSlide:n=!1,slidesToShow:i=3,position:r=0,responsive:a=[]}){this.main=document.querySelector(e),this.wrapper=document.querySelector(t),this.slides=Array.from(this.wrapper.children),this.next=document.querySelector(s),this.prev=document.querySelector(o),this.slidesToShow=i,this.options={position:r,infiniteSlide:n,sliderWidth:Math.trunc(100/this.slidesToShow),maxPosition:this.slides.length-this.slidesToShow},this.responsive=a}addClass(){this.main.classList.add("slider"),this.wrapper.classList.add("slider__wrapper"),this.slides.forEach((e=>{e.classList.add("slider__item")}))}generateStyles(){let e=document.getElementById("slider-style");e||(e=document.createElement("style"),e.id="slider-style"),e.textContent=`\n      .slider{\n        overflow: hidden;\n      }\n      .slider__wrapper{\n        display: flex;\n        transition: transform 0.5s;\n        will-change: transform;\n      }\n      .slider__item{\n        flex: 0 0 ${this.options.sliderWidth}%;\n        margin: auto 0;\n      }\n      .slider__prev, .slider__next {\n        margin: 0 10px;\n        border: 20px solid transparent;\n        background: transparent;\n        outline:none;\n        cursor:pointer;\n      }\n      .slider__next{\n        border-left-color: #19b5fe;\n      }\n      .slider__prev{\n        border-right-color: #19b5fe;\n      }\n    `,document.head.append(e)}controlSlider(){this.prev.addEventListener("click",(()=>{this.prevSlide()})),this.next.addEventListener("click",(()=>{this.nextSlide()}))}prevSlide(){(this.options.infiniteSlide||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.options.maxPosition),this.wrapper.style.transform=`translateX(-${this.options.position*this.options.sliderWidth}%)`)}nextSlide(){(this.options.infiniteSlide||this.options.position<this.options.maxPosition)&&(++this.options.position,this.options.position>this.options.maxPosition&&(this.options.position=0),this.wrapper.style.transform=`translateX(-${this.options.position*this.options.sliderWidth}%)`)}addArrows(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.className="slider__prev",this.next.className="slider__next",this.main.append(this.prev),this.main.append(this.next)}responseInit(){const e=this.slidesToShow,t=this.responsive.map((e=>e.breakpoint)),s=Math.max(...t),o=()=>{const o=document.documentElement.clientWidth;if(o<s)for(let e=0;e<t.length;e++)o<t[e]&&(this.slidesToShow=this.responsive[e].slideToShow,this.options.sliderWidth=Math.floor(100/this.slidesToShow),this.generateStyles());else this.slidesToShow=e,this.options.sliderWidth=Math.floor(100/this.slidesToShow),this.generateStyles()};o(),window.addEventListener("resize",(()=>{o()}))}init(){this.addClass(),this.generateStyles(),this.prev&&this.next||this.addArrows(),this.controlSlider(),this.responsive&&this.responseInit()}}({main:".companies-wrapper",wrapper:".companies-hor",infiniteSlide:!0,slidesToShow:3,responsive:[{breakpoint:1024,slideToShow:3},{breakpoint:768,slideToShow:2},{breakpoint:576,slideToShow:1}]});(e=>{const t=document.getElementById("timer-hours"),s=document.getElementById("timer-minutes"),o=document.getElementById("timer-seconds"),n=e=>e<10?e="0"+e:e,i=setInterval((()=>{const r=(()=>{const t=(new Date(e).getTime()-(new Date).getTime())/1e3,s=Math.floor(t%60),o=Math.floor(t/60%60);return{timeRemaining:t,hours:Math.floor(t/60/60)%24,minutes:o,seconds:s}})();r.timeRemaining>0?(t.textContent=n(r.hours),s.textContent=n(r.minutes),o.textContent=n(r.seconds)):r.timeRemaining<0?(t.textContent="00",s.textContent="00",o.textContent="00"):clearInterval(i)}),1e3)})("27 march 2021"),(()=>{const e=document.querySelector("menu");document.addEventListener("click",(t=>{const s=t.target,o=s==e||e.contains(s),n=s==document.querySelector(".close-btn"),i=e.classList.contains("active-menu");(s.classList.contains("close-btn")||s.closest(".menu")||s.matches("menu>ul>li>a")||!o&&!n&&i)&&e.classList.toggle("active-menu")}))})(),(()=>{const e=document.querySelector(".popup");document.querySelector(".service").addEventListener("click",(t=>{if(t.target.classList.contains("popup-btn"))if(document.documentElement.clientWidth>768){e.style.display="block",e.style.opacity="0%";let t=0;const s=setInterval((()=>{t<100?(++t,e.style.opacity=t+"%"):clearInterval(s)}),7)}else e.style.display="block"})),e.addEventListener("click",(t=>{let s=t.target;s.classList.contains("popup-close")?e.style.display="none":(s=s.closest(".popup-content"),s||(e.style.display="none"))}))})(),(()=>{const e=(e,t)=>{e.preventDefault();const s=t.getAttribute("href");document.querySelector(s).scrollIntoView({behavior:"smooth",block:"start"})};document.addEventListener("click",(t=>{let s=t.target;!s.matches(".close-btn")&&s.matches('menu a[href*="#"]')?e(t,s):(s=s.closest('a[href="#service-block"]'),s&&e(t,s))}))})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),s=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{const o=e.target.closest(".service-header-tab");o.classList.contains("service-header-tab")&&t.forEach(((e,n)=>{e===o&&(e=>{s.forEach(((s,o)=>{e===o?(s.classList.remove("d-none"),t[o].classList.add("active")):(s.classList.add("d-none"),t[o].classList.remove("active"))}))})(n)}))}))})(),(()=>{const e=document.querySelector(".portfolio-content"),t=document.querySelectorAll(".portfolio-item"),s=[];let o,n=0;(()=>{const e=document.querySelector(".portfolio-dots");for(let o=0;o<t.length;o++){const t=document.createElement("li");t.classList.add("dot"),0===o&&t.classList.add("dot-active"),s.push(t),e.appendChild(t)}})();const i=(e,t,s)=>{e[t].classList.remove(s)},r=(e,t,s)=>{e[t].classList.add(s)},a=()=>{i(t,n,"portfolio-item-active"),i(s,n,"dot-active"),n++,n>=t.length&&(n=0),r(t,n,"portfolio-item-active"),r(s,n,"dot-active")},l=(e=2e3)=>{o=setInterval(a,e)};e.addEventListener("click",(e=>{e.preventDefault();const o=e.target;o.matches(".portfolio-btn, .dot")&&(i(t,n,"portfolio-item-active"),i(s,n,"dot-active"),o.matches("#arrow-right")?n++:o.matches("#arrow-left")?n--:o.matches(".dot")&&s.forEach(((e,t)=>{e===o&&(n=t)})),n>=t.length&&(n=0),n<0&&(n=t.length-1),r(t,n,"portfolio-item-active"),r(s,n,"dot-active"))})),e.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(o)})),e.addEventListener("mouseout",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&l(5e3)})),l(5e3)})(),(()=>{const e=document.querySelector(".command"),t=e=>{let t=e.target;if(!t.matches(".command__photo"))return;let s=t.src;t.src=t.dataset.img,t.dataset.img=s};e.addEventListener("mouseover",(e=>{t(e)})),e.addEventListener("mouseout",(e=>{t(e)}))})(),document.addEventListener("input",(e=>{const t=e.target;!t.matches(".calc-type")&&t.matches(".calc-item")&&(t.value=t.value.replace(/[^\d]/g,"")),t.matches(".form-phone")&&(t.value=t.value.replace(/[^+\d-()]/g,"").replace(/-+/g,"-").replace(/^-|-$/g,""),t.value.length>16&&(t.value=t.value.slice(0,16))),t.matches(".form-email")&&(t.value=t.value.replace(/[^a-z0-9@\-_.!~*']/gi,"").replace(/-+/g,"-").replace(/^-|-$/g,"")),t.matches(".mess")&&(t.value=t.value.replace(/[^-а-я\s0-9.,?!]/gi,"").replace(/-+/g,"-")),t.matches("input[name='user_name']")&&(t.value=t.value.replace(/[^а-я\s]/gi,"").replace(/\s+/g," "))})),((e=100)=>{const t=document.querySelector(".calc-block"),s=document.getElementById("total"),o=document.querySelector(".calc-type"),n=document.querySelector(".calc-day"),i=document.querySelector(".calc-count"),r=document.querySelector(".calc-square"),a=e=>{const t=Math.floor(.1*e);let o=0;const n=Math.round(500/(e/t));if(0===e)return;const i=setInterval((()=>{o+=t,o===e&&clearInterval(i),s.textContent=o,o>e&&(clearInterval(i),s.textContent=e)}),n)};t.addEventListener("change",(t=>{t.target.matches(".calc-item")&&(t=>{let s=0,a=1,l=1;const c=o.value,d=+r.value;i.value>1&&(a+=(i.value-1)/10),n.value&&n.value<5?l*=2:n.value&&n.value<10&&(l*=1.5),c&&0!==d&&(s=Math.round(e*c*d*a*l)),t(s)})(a)}))})(100),(()=>{const e=document.querySelector(".preloader"),t=document.getElementById("form1"),s=document.getElementById("form3"),o=document.getElementById("form2"),n=document.createElement("div");n.style.cssText="font-size: 2rem";const i=(t,o)=>{t.preventDefault(),o.append(n),e.style.display="block",n.append(e);const i=new FormData(o),r={};for(const e of i.entries())r[e[0]]=e[1];(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(r).then((e=>{if(200!==e.status)throw new Error("network failed");o===s&&(n.style.color="white"),n.textContent="Спасибо! Мы скоро с Вами свяжемся.",setTimeout((()=>{n.textContent=""}),5e3)})).catch((e=>{console.log(e),n.textContent="Что-то пошло не так...",setTimeout((()=>{n.textContent=""}),5e3)})),o.querySelectorAll("input").forEach((e=>{e.value=""}))};t.addEventListener("submit",(e=>{i(e,t)})),s.addEventListener("submit",(e=>{i(e,s)})),o.addEventListener("submit",(e=>{i(e,o)}))})(),e.init()})();